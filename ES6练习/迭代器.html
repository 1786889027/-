<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const xiyou = ['唐僧', '孙悟空', '猪八戒', '沙和尚']
        for (let v in xiyou) {
            console.log(v); //用for in 打印 index
        }
        for (let v of xiyou) {
            console.log(v); //用 for of 打印值
        }
        //迭代器是对象内置的一个属性 [symbol.iterator] 是一个函数
        // 创建一个指针对象 指向当前数据结构的起始位置 调用对象的next方法指向下个位置 直到最后一个 每次返回一个value和done属性的对象 done是是否被遍历过
        let iterator = xiyou[Symbol.iterator]()
        console.log(iterator);
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next()); //到最后undefined
        //声明一个对象
        const banji = {
            name: '终极一班',
            students: [
                'xiaoming',
                'xiaoning',
                'xiaotian',
                'knigth'
            ],
            [Symbol.iterator]() {
                //索引变量
                let index = 0;
                let _this = this //或者直接改成箭头函数不需要声明这个_this
                return {
                    next: function () {
                        if (index < _this.students.length) {
                            const result = {
                                value: _this.students[index],
                                done: false
                            }
                            index++;
                            //返回结果 
                            return result
                        } else {
                            return {
                                value: undefined,
                                done: true
                            }
                        }
                    }
                }
            }
        }
        //遍历对象
        for (let v of banji) {
            console.log(v); //报错 对象里面没有iterator这个接口   .... 现在写了接口就可以迭代了
        }
        //用in循环没有按我的意愿 我需要打印值
        //用banji.students.forEach 不符合面向对象的思想 面向对象: 直接对对象进行遍历操作 而不是抽取里面的属性进行操作
    </script>
</body>

</html>