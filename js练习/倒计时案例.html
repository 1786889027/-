<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			span {
				margin: 10px;
				padding: 12px;
				width: 40px;
				height: 40px;
				line-height: 40px;
				background-color: #000;
				color: #fff;
				text-align: center;
			}
		</style>
	</head>

	<body>
		<div>
			<span class="hour">1</span><span class="minute">2</span
			><span class="second">3</span>
		</div>
		<button class="begin">开启计时</button>
		<button class="stop">停止计时</button>
		<script>
			var hour = document.querySelector('.hour')
			var minute = document.querySelector('.minute')
			var second = document.querySelector('.second')
			var inputTime = +new Date('2021-5-7 23:00:00') c
			var begin = document.querySelector('.begin')
			var stop = document.querySelector('.stop')
			var timer = null
			begin.addEventListener('click', function () {
				if (timer) {
					clearInterval(timer) //如果你点击了多次按钮 会出现关不掉的情况 所以点击开启时要先清空！
				}
				timer = setInterval(countDown, 1000)
			})
			function countDown() {
				var nowtime = +new Date()
				var times = (inputTime - nowtime) / 1000
				var d = parseInt(times / 60 / 60 / 24)
				d = d < 10 ? '0' + d : d
				var h = parseInt((times / 60 / 60) % 24)
				h = h < 10 ? '0' + h : h
				hour.innerHTML = h
				var m = parseInt((times / 60) % 60)
				m = m < 10 ? '0' + m : m
				minute.innerHTML = m
				var s = parseInt(times % 60)
				s = s < 10 ? '0' + s : s
				second.innerHTML = s
			}
			stop.addEventListener('click', function () {
				console.log(timer) //返回的是鼠标点击次数！
				clearInterval(timer)
			})
		</script>
	</body>
</html>
